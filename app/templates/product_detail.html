{% extends "base.html" %}
{% block content %}

<div class="row mt-4">

    <!-- PRODUCT IMAGE -->
    <div class="col-md-4">
        <img src="{{ product.image_url }}" 
             alt="{{ product.name }}"
             class="img-fluid rounded shadow-sm mb-3">
    </div>

    <!-- PRODUCT DETAILS -->
    <div class="col-md-8">
        <h2>{{ product.name }}</h2>

        <!-- RATING -->
        <p class="fs-5">
            ‚≠ê {{ product.average_rating or "No rating" }}
            ({{ product.review_count }} reviews)
        </p>

        <h3 class="mt-3">${{ product.price }}</h3>

        <p>
            <strong>Availability:</strong>
            {% if product.available %}
                <span class="text-success">In Stock</span>
            {% else %}
                <span class="text-danger">Out of Stock</span>
            {% endif %}
        </p>

        <p class="mt-3">{{ product.description }}</p>

        <form action="/cart/add/{{ product.id }}" method="POST">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button class="btn btn-primary btn-lg">Add to Cart</button>
        </form>

        <a href="/products/{{ product.id }}/reviews" 
           class="btn btn-outline-secondary mt-3">
            View Reviews
        </a>
    </div>

</div>

{% endblock %}
